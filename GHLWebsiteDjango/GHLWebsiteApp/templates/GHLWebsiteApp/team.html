{% extends "GHLWebsiteApp/layout.html" %}
{% load static %}
{% block body %}
<center>
    <div class="section section_lg"><center>
        <div class="subsection-container">
            <table>
                <col style="width: 50%;">
                <col style="width: 1300px;">
                <tr class="no-bg">
                    <td>
                        <img src="{{ team.team_logo_link }}" width=220 height=220 />
                    </td>
                    <td>
                        <center>
                            <font style="font-weight: 700; font-size: 64px">{{ team.club_full_name }}</font>
                            <div class="selectionmenu">
                                <form>
                                    <select id="seasonSel" name="season">
                                        <optgroup>
                                            <option selected value="">Season Dropdown (WIP)</option>
                                        </optgroup>
                                    </select>
                                </form>
                            </div>
                        </center>
                    </td>
                    
                </tr>
            </table>
        </div>
        <div class="section_lg" style="align-items: auto; width: 90%; overflow: scroll; margin-bottom: 10px;"><center>
            <table class="statsbar betweenrows">
                <col style="width: 240px;"><!-- Player -->
                <col style="width: 80px;"><!-- GP -->
                <col style="width: 80px;"><!-- G -->
                <col style="width: 80px;"><!-- A -->
                <col style="width: 80px;"><!-- PTS -->
                <col style="width: 80px;"><!-- S -->
                <col style="width: 80px;"><!-- S% -->
                <col style="width: 80px;"><!-- Shot Eff -->
                <col style="width: 80px;"><!-- Deflections -->
                <col style="width: 80px;"><!-- PIM -->
                <col style="width: 80px;"><!-- +/- -->
                <col style="width: 80px;"><!-- HITS -->
                <col style="width: 80px;"><!-- FOW -->
                <col style="width: 80px;"><!-- FOL -->
                <col style="width: 80px;"><!-- BS -->
                <col style="width: 80px;"><!-- INT -->
                <col style="width: 80px;"><!-- GVA -->
                <col style="width: 80px;"><!-- TKA -->
                <col style="width: 80px;"><!-- Pens Drawn -->
                <col style="width: 80px;"><!-- PK Clears -->
                <col style="width: 80px;"><!-- PPG -->
                <col style="width: 80px;"><!-- SHG -->
                <col style="width: 80px;"><!-- Pass% -->
                <col style="width: 80px;"><!-- Poss Time -->
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>GP</th>
                        <th>G</th>
                        <th>A</th>
                        <th>PTS</th>
                        <th>SOG</th>
                        <th>S%</th>
                        <th>Shot Eff</th>
                        <th>Dflct</th>
                        <th>PIM</th>
                        <th>+/-</th>
                        <th>HITS</th>
                        <th>FOW</th>
                        <th>FOL</th>
                        <th>BS/G</th>
                        <th>INT</th>
                        <th>GVA</th>
                        <th>TKA</th>
                        <th>Pens Drawn</th>
                        <th>PK Clears</th>
                        <th>PPG</th>
                        <th>SHG</th>
                        <th>Pass%</th>
                        <th>Poss (sec)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in skaterrecords %}
                    <tr class="no-bg">
                        <td><a href="{% url 'player' player.ea_player_num %}">{{ player.ea_player_num__username }}</a></td>
                        <td>{{player.skatersgp}}</td>
                        <td>{{player.skatersgoals}}</td>
                        <td>{{player.skatersassists}}</td>
                        <td>{{player.skaterspoints}}</td>
                        <td>{{player.skaterssog}}</td>
                        <td>{{player.skatersshotperc|floatformat:1}}%</td><!-- needs calculation -->
                        <td>{{player.skatersshoteffperc|floatformat:1}}%</td><!-- needs calculation -->
                        <td>{{player.skatersdeflections}}</td>
                        <td>{{player.skaterspims}}</td>
                        <td>{{player.skatersplusminus}}</td>
                        <td>{{player.skatershits}}</td>
                        <td>{{player.skatersfow}}</td>
                        <td>{{player.skatersfol}}</td>
                        <td>{{player.skatersbs|floatformat:2}}</td>
                        <td>{{player.skatersint}}</td>
                        <td>{{player.skatersgva}}</td>
                        <td>{{player.skaterstakeaways}}</td>
                        <td>{{player.skaterspensdrawn}}</td>
                        <td>{{player.skaterspkclears}}</td>
                        <td>{{player.skatersppg}}</td>
                        <td>{{player.skatersshg}}</td>
                        <td>{{player.skaterspassperc|floatformat:1}}%</td><!-- needs calculation -->
                        <td>{{player.skatersposs|floatformat:1}}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan=25>No skater stats recorded.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </center></div>
        <div class="section_lg" style="align-items: auto; width: 90%; overflow: scroll; margin-bottom: 10px;"><center>
            <table class="statsbar betweenrows">
                <col style="width: 240px;"><!-- Player -->
                <col style="width: 80px;"><!-- Shots Against -->
                <col style="width: 80px;"><!-- Saves -->
                <col style="width: 80px;"><!-- SV% -->
                <col style="width: 80px;"><!-- GAA -->
                <col style="width: 80px;"><!-- Shutout -->
                <col style="width: 80px;"><!-- Win -->
                <col style="width: 80px;"><!-- Loss -->
                <col style="width: 80px;"><!-- OTL -->
                <col style="width: 80px;"><!-- Breakaway Shots Against -->
                <col style="width: 80px;"><!-- Breakaway Saves -->
                <col style="width: 80px;"><!-- Penalty Shots Against -->
                <col style="width: 80px;"><!-- Penalty Shot Saves -->
                <thead>
                    <tr>
                        <th>Goalie</th>
                        <th>Shots Against</th>
                        <th>Saves</th>
                        <th>SV%</th>
                        <th>GAA</th>
                        <th>Shutout</th>
                        <th>Win</th>
                        <th>Loss</th>
                        <th>OTL</th>
                        <th>Breakaway SA</th>
                        <th>Breakaway SV</th>
                        <th>PS SA</th>
                        <th>PS SV</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in goalierecords %}
                    <tr class="no-bg">
                        <td><a href="{% url 'player' player.ea_player_num %}">{{ player.ea_player_num__username }}</a></td>
                        <td>{{player.goaliesshots}}</td>
                        <td>{{player.goaliessaves}}</td>
                        <td>{{player.goaliessvp|floatformat:1}}%</td>
                        <td>{{player.goaliesgaa|floatformat:2}}</td>
                        <td>{{player.goaliesshutouts}}</td>
                        <td>{{player.goalieswins}}</td>
                        <td>{{player.goalieslosses}}</td>
                        <td>{{player.goaliesotlosses}}</td>
                        <td>{{player.goaliesbashots}}</td>
                        <td>{{player.goaliesbasaves}}</td>
                        <td>{{player.goaliespsshots}}</td>
                        <td>{{player.goaliespssaves}}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan=25>No goalie stats recorded.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </center></div>
        <div class="header">
            Games
        </div>
        <div class="section_lg">
            <table class="statsbar betweenrows" style="width: 800px;">
                <colgroup>
                    <col style="width: 160px;"><!-- Game Time -->
                    <col><!-- Away Team -->
                    <col style="width: 80px;"><!-- Away Score -->
                    <col style="width: 80px;"><!-- Final or OT -->
                    <col style="width: 80px;"><!-- Home Score -->
                    <col><!-- Home Team -->
                </colgroup>
                <thead>
                    <tr>
                        <th>Game Time</th>
                        <th style="text-align: right; padding-right: 15px;">Away Team</th>
                        <th>Away Score</th>
                        <th>Final/OT</th>
                        <th>Home Score</th>
                        <th style="text-align: left; padding-left: 15px;">Home Team</th>
                    </tr>
                </thead>
                <tbody>
                    {% if teamgames %}
                        {% for game in teamgames %}
                        <tr class="no-bg">
                            <td><a href="{% url 'game' game.game_num %}">{{ game.expected_time|date:"m/d/y  g:i" }}</a></td>
                            <td style="text-align: right; padding-right: 10px;"><a href="{% url 'team' game.a_team_num.ea_club_num %}">{{ game.a_team_num.club_full_name }}</a></td>
                            <td>{{ game.a_team_gf }}</td>
                            {% if game.gamelength > 3600 %}
                            <td>Final/OT</td>
                            {% else %}
                            <td>Final</td>
                            {% endif %}
                            <td>{{ game.h_team_gf }}</td>
                            <td style="text-align: left; padding-left: 10px;"><a href="{% url 'team' game.h_team_num.ea_club_num %}">{{ game.h_team_num.club_full_name }}</a></td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan=6>No games recorded.</td>
                        </tr>
                        {% endfor %}
                    {% else %}
                    <tr>
                        <td colspan=6>No games recorded.</td>
                    </tr>
                    {% endif %}
            </table>
        </div>
    </center></div>
</center>
{% endblock %}